import{u as w,r as l,a as V,e as M,f as C,g as I,s as u,b as a,B as s,c as W,P,h as o,T as m,d as f,L as R,D as T,i as A,k as L,l as F}from"./index-BUcdUimO.js";import{T as v}from"./TextField-B1jhLvMe.js";import{I as g}from"./InputAdornment-Cswm7CTz.js";import{D as B}from"./DialogTitle-Bh-EomZ1.js";import{D as q}from"./DialogActions-BMAPaHA0.js";const $=()=>{const{login:y,isLoggedIn:O}=w(),[n,D]=l.useState({username:"",password:""}),[p,E]=l.useState(!1),[k,b]=l.useState(!1),[c,x]=l.useState(""),[z,h]=l.useState(!1),t=V(),i=M(t.breakpoints.down("sm"));M(t.breakpoints.down("md"));const e=t.palette.mode==="dark";C();const j=I(),N=new URLSearchParams(j.search).get("expired")==="true";l.useEffect(()=>{N&&u("Sessiyanız müddəti bitib. Zəhmət olmasa yenidən daxil olun.")},[N]);const S=async r=>{if(r.preventDefault(),!n.username.trim()||!n.password.trim()){u("İstifadəçi adı və şifrə daxil edin");return}try{await y(n.username,n.password),N||L("Uğurla daxil oldunuz!")}catch(d){console.error("Login error:",d),typeof d=="string"?u(d):u("Daxil olma zamanı xəta baş verdi")}},K=async()=>{if(h(!0),!c||!c.trim()){u("Email ünvanı daxil edilməlidir"),h(!1);return}try{const d=(await F.forgotPassword(c)).message||"Şifrə yeniləmə linki email ünvanınıza göndərildi";L(d),x(""),b(!1)}catch(r){const d=r.message||"Şifrə yeniləmə tələbi zamanı xəta baş verdi";u(d)}finally{h(!1)}};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(s,{sx:{minHeight:{xs:"calc(100vh - 64px)",sm:"calc(100vh - 128px)"},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",py:{xs:2,sm:4},background:e?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e8eaf6 0%, #c5cae9 50%, #9fa8da 100%)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:e?"radial-gradient(circle at 25% 25%, rgba(63, 81, 181, 0.15) 0%, transparent 50%), radial-gradient(circle at 75% 75%, rgba(156, 39, 176, 0.15) 0%, transparent 50%)":"radial-gradient(circle at 25% 25%, rgba(63, 81, 181, 0.1) 0%, transparent 50%), radial-gradient(circle at 75% 75%, rgba(156, 39, 176, 0.1) 0%, transparent 50%)"}},children:a.jsxDEV(W,{component:"main",maxWidth:"sm",sx:{position:"relative",zIndex:1,px:{xs:2,sm:3},maxWidth:{xs:"95%",sm:"500px",md:"550px"},height:{sm:"auto",md:"auto"},display:"flex",flexDirection:"column",justifyContent:"center"},children:a.jsxDEV(P,{elevation:0,sx:{p:{xs:2.5,sm:3},display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:3,position:"relative",overflow:"hidden",backgroundColor:e?o(t.palette.background.paper,.7):o("#ffffff",.7),backdropFilter:"blur(15px)",boxShadow:e?"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset":"0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.5) inset",border:e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.7)",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{transform:"translateY(-5px)",boxShadow:e?"0 12px 40px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.15) inset":"0 12px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.6) inset"}},children:[a.jsxDEV(s,{sx:{position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #3f51b5, #9c27b0, #3f51b5)",backgroundSize:"200% 100%",animation:"gradient 3s ease infinite","@keyframes gradient":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}}}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:174,columnNumber:13},void 0),a.jsxDEV(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:{xs:"center",sm:"flex-start"},gap:{xs:.5,sm:3},mb:2,mt:.5,width:"100%"},children:[a.jsxDEV(s,{sx:{width:{xs:"60px",sm:"65px"},height:{xs:"60px",sm:"65px"},borderRadius:"50%",background:"linear-gradient(135deg, #3f51b5 0%, #9c27b0 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:e?"0 4px 20px rgba(63, 81, 181, 0.4)":"0 4px 20px rgba(63, 81, 181, 0.3)",mb:{xs:1,sm:0},border:e?"3px solid rgba(255, 255, 255, 0.1)":"3px solid rgba(255, 255, 255, 0.8)",flexShrink:0},children:a.jsxDEV("i",{className:"bx bx-movie-play",style:{fontSize:"32px",color:"white"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:231,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:210,columnNumber:15},void 0),a.jsxDEV(s,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"center",sm:"flex-start"}},children:[a.jsxDEV(m,{component:"h1",variant:i?"h5":"h4",sx:{fontWeight:"bold",letterSpacing:"0.5px",color:e?"#fff":"#3f51b5",textAlign:{xs:"center",sm:"left"},mb:.5,textShadow:e?"0 2px 4px rgba(0,0,0,0.3)":"none"},children:"Daxil ol"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:238,columnNumber:17},void 0),a.jsxDEV(m,{variant:"body2",sx:{color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",textAlign:{xs:"center",sm:"left"},maxWidth:"100%",mb:.5,fontSize:{xs:"0.85rem",sm:"0.875rem"}},children:"Sevimli filmlərinizi tapmaq üçün Kinosu hesabınıza daxil olun"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:233,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:200,columnNumber:13},void 0),a.jsxDEV(s,{component:"form",onSubmit:S,sx:{width:"100%"},children:[a.jsxDEV(v,{required:!0,fullWidth:!0,size:i?"small":"medium",label:"İstifadəçi adı və ya Email",name:"username",autoComplete:"username",autoFocus:!0,value:n.username,onChange:r=>D({...n,username:r.target.value}),InputProps:{startAdornment:a.jsxDEV(g,{position:"start",children:a.jsxDEV("i",{className:"bx bx-user",style:{fontSize:i?"18px":"20px",color:e?"#9c27b0":"#3f51b5"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:287,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:286,columnNumber:21},void 0)},sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:e?o(t.palette.background.paper,.4):o("#ffffff",.6),"&:hover fieldset":{borderColor:e?"#9c27b0":"#3f51b5"},"&.Mui-focused fieldset":{borderColor:e?"#9c27b0":"#3f51b5",borderWidth:"2px"}},"& .MuiInputLabel-root":{color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:e?"#9c27b0":"#3f51b5"},fontSize:i?"0.85rem":"0.9rem"},"& .MuiInputBase-input":{color:e?"#fff":"rgba(0, 0, 0, 0.87)",fontSize:i?"0.9rem":"1rem"}}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:274,columnNumber:15},void 0),a.jsxDEV(v,{required:!0,fullWidth:!0,size:i?"small":"medium",name:"password",label:"Şifrə",type:p?"text":"password",autoComplete:"current-password",value:n.password,onChange:r=>D({...n,password:r.target.value}),InputProps:{startAdornment:a.jsxDEV(g,{position:"start",children:a.jsxDEV("i",{className:"bx bx-lock-alt",style:{fontSize:i?"18px":"20px",color:e?"#9c27b0":"#3f51b5"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:335,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:334,columnNumber:21},void 0),endAdornment:a.jsxDEV(g,{position:"end",children:a.jsxDEV("button",{type:"button",onClick:()=>E(!p),className:"password-toggle",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"},children:a.jsxDEV("i",{className:`bx ${p?"bx-show":"bx-hide"}`,style:{fontSize:i?"18px":"20px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:355,columnNumber:25},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:343,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:342,columnNumber:21},void 0)},sx:{mb:.5,"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:e?o(t.palette.background.paper,.4):o("#ffffff",.6),"&:hover fieldset":{borderColor:e?"#9c27b0":"#3f51b5"},"&.Mui-focused fieldset":{borderColor:e?"#9c27b0":"#3f51b5",borderWidth:"2px"}},"& .MuiInputLabel-root":{color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:e?"#9c27b0":"#3f51b5"},fontSize:i?"0.85rem":"0.9rem"},"& .MuiInputBase-input":{color:e?"#fff":"rgba(0, 0, 0, 0.87)",fontSize:i?"0.9rem":"1rem"}}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:322,columnNumber:15},void 0),a.jsxDEV(s,{sx:{width:"100%",textAlign:"right",mb:2},children:a.jsxDEV(f,{onClick:()=>b(!0),sx:{textTransform:"none",fontSize:i?"0.8rem":"0.85rem",color:e?"#bb86fc":"#673ab7",fontWeight:500,p:.5,minWidth:"auto","&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},children:"Şifrəni unutmusunuz?"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:390,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:389,columnNumber:15},void 0),a.jsxDEV(f,{type:"submit",fullWidth:!0,variant:"contained",size:i?"medium":"large",sx:{py:i?1:1.2,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:i?"0.9rem":"1rem",boxShadow:e?"0 4px 20px rgba(156, 39, 176, 0.4)":"0 4px 20px rgba(63, 81, 181, 0.3)",transition:"all 0.3s",background:e?"linear-gradient(45deg, #9c27b0 0%, #673ab7 100%)":"linear-gradient(45deg, #3f51b5 0%, #673ab7 100%)","&:hover":{transform:"translateY(-2px)",boxShadow:e?"0 6px 25px rgba(156, 39, 176, 0.5)":"0 6px 25px rgba(63, 81, 181, 0.4)",background:e?"linear-gradient(45deg, #9c27b0 30%, #673ab7 90%)":"linear-gradient(45deg, #3f51b5 30%, #673ab7 90%)"}},children:[a.jsxDEV("i",{className:"bx bx-log-in",style:{fontSize:i?"20px":"22px",marginRight:"8px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:438,columnNumber:17},void 0),"Daxil ol"]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:409,columnNumber:15},void 0),a.jsxDEV(s,{sx:{my:2,textAlign:"center",position:"relative","&::before, &::after":{content:'""',position:"absolute",top:"50%",width:"42%",height:"1px",backgroundColor:e?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)"},"&::before":{left:0},"&::after":{right:0}},children:a.jsxDEV(m,{variant:"caption",component:"span",sx:{px:2,color:e?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.5)",fontSize:i?"0.8rem":"0.85rem"},children:"və ya"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:442,columnNumber:15},void 0),a.jsxDEV(R,{to:"/register",style:{textDecoration:"none",color:"inherit"},children:a.jsxDEV(f,{fullWidth:!0,variant:"outlined",size:i?"medium":"large",sx:{py:i?1:1.2,borderRadius:2,textTransform:"none",fontSize:i?"0.9rem":"1rem",transition:"all 0.3s",borderWidth:"2px",borderColor:e?"#9c27b0":"#3f51b5",color:e?"#fff":"#3f51b5",backgroundColor:"transparent","&:hover":{transform:"translateY(-2px)",borderWidth:"2px",borderColor:e?"#bb86fc":"#5c6bc0",backgroundColor:e?o("#9c27b0",.1):o("#3f51b5",.05)}},children:[a.jsxDEV("i",{className:"bx bx-user-plus",style:{fontSize:i?"20px":"22px",marginRight:"8px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:500,columnNumber:19},void 0),"Qeydiyyatdan keç"]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:476,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:472,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:269,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:130,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:106,columnNumber:7},void 0),a.jsxDEV(T,{open:k,onClose:()=>{b(!1),x("")},maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:3,backgroundColor:e?o(t.palette.background.paper,.9):o("#ffffff",.9),backdropFilter:"blur(10px)",boxShadow:e?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)",border:e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.7)",p:1,mx:{xs:2,sm:"auto"},width:{xs:"calc(100% - 32px)",sm:"100%"},maxWidth:{xs:"100%",sm:"400px"}}},children:[a.jsxDEV(B,{sx:{pb:1},children:a.jsxDEV(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsxDEV("i",{className:"bx bx-lock-open-alt",style:{fontSize:"24px",color:e?"#bb86fc":"#3f51b5"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:539,columnNumber:13},void 0),a.jsxDEV(m,{variant:"h6",component:"span",sx:{fontWeight:"bold",fontSize:i?"1.1rem":"1.25rem"},children:"Şifrəni Yenilə"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:543,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:538,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:537,columnNumber:9},void 0),a.jsxDEV(A,{children:[a.jsxDEV(v,{autoFocus:!0,margin:"dense",label:"Email",type:"email",fullWidth:!0,variant:"outlined",size:i?"small":"medium",value:c,onChange:r=>x(r.target.value),InputProps:{startAdornment:a.jsxDEV(g,{position:"start",children:a.jsxDEV("i",{className:"bx bx-envelope",style:{fontSize:i?"18px":"20px",color:e?"#9c27b0":"#3f51b5"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:562,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:561,columnNumber:17},void 0)},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:e?o(t.palette.background.paper,.4):o("#ffffff",.6),"&:hover fieldset":{borderColor:e?"#9c27b0":"#3f51b5"},"&.Mui-focused fieldset":{borderColor:e?"#9c27b0":"#3f51b5",borderWidth:"2px"}},"& .MuiInputLabel-root":{color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:e?"#9c27b0":"#3f51b5"},fontSize:i?"0.85rem":"0.9rem"},"& .MuiInputBase-input":{color:e?"#fff":"rgba(0, 0, 0, 0.87)",fontSize:i?"0.9rem":"1rem"}}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:549,columnNumber:11},void 0),a.jsxDEV(m,{variant:"body2",sx:{mt:2,color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",fontSize:i?"0.8rem":"0.85rem"},children:"Email ünvanınızı daxil edin. Şifrə yeniləmə linki göndəriləcək."},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:596,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:548,columnNumber:9},void 0),a.jsxDEV(q,{sx:{px:3,pb:3},children:[a.jsxDEV(f,{onClick:()=>{b(!1),x("")},sx:{textTransform:"none",color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",borderRadius:2,fontWeight:500,fontSize:i?"0.8rem":"0.85rem","&:hover":{backgroundColor:e?o("#ffffff",.05):o("#000000",.05)}},children:"Ləğv et"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:605,columnNumber:11},void 0),a.jsxDEV(f,{onClick:K,variant:"contained",disabled:z,sx:{textTransform:"none",borderRadius:2,px:3,fontWeight:500,fontSize:i?"0.8rem":"0.85rem",background:e?"linear-gradient(45deg, #9c27b0 0%, #673ab7 100%)":"linear-gradient(45deg, #3f51b5 0%, #673ab7 100%)","&:hover":{background:e?"linear-gradient(45deg, #9c27b0 30%, #673ab7 90%)":"linear-gradient(45deg, #3f51b5 30%, #673ab7 90%)"}},children:z?"Göndərilir...":"Göndər"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:625,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:604,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:509,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/Login.tsx",lineNumber:105,columnNumber:5},void 0)};export{$ as default};
