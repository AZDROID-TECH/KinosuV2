import{a as P,e as L,r as a,b as t,D as B,R as X,B as h,T as y,I as $,i as W,m as E,C as G,S as A,h as b}from"./index-DxgIFdvn.js";import{D as U}from"./DialogTitle-HdFSzBsI.js";const Y=E(h)(({theme:e})=>({width:"100%",height:40,borderRadius:20,backgroundColor:b(e.palette.mode==="dark"?e.palette.primary.main:e.palette.primary.light,.2),position:"relative",cursor:"pointer",border:`1px solid ${b(e.palette.primary.main,.2)}`,boxShadow:e.palette.mode==="dark"?"inset 0 2px 4px rgba(0,0,0,0.3)":"inset 0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:(e.palette.mode==="dark","linear-gradient(135deg, rgba(63, 81, 181, 0.1) 25%, transparent 25%, transparent 50%, rgba(63, 81, 181, 0.1) 50%, rgba(63, 81, 181, 0.1) 75%, transparent 75%, transparent)"),backgroundSize:"10px 10px",opacity:.5}})),q=E(h)(({theme:e})=>({width:36,height:36,borderRadius:"50%",backgroundColor:e.palette.primary.main,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"grab",boxShadow:e.palette.mode==="dark"?"0 3px 8px rgba(0,0,0,0.5)":"0 3px 8px rgba(0,0,0,0.2)",border:e.palette.mode==="dark"?"2px solid rgba(255,255,255,0.1)":"2px solid rgba(255,255,255,0.8)",transition:"background-color 0.2s",zIndex:2,"&:hover":{backgroundColor:e.palette.primary.dark},"&:active":{cursor:"grabbing",backgroundColor:e.palette.secondary.main}})),Q=E(h)(({theme:e,progress:d})=>({position:"absolute",top:0,left:0,height:"100%",width:`${d}%`,backgroundColor:b(e.palette.primary.main,.3),backgroundImage:e.palette.mode==="dark"?`linear-gradient(90deg, ${b(e.palette.primary.main,.5)}, ${b(e.palette.secondary.main,.5)})`:`linear-gradient(90deg, ${b(e.palette.primary.main,.5)}, ${b(e.palette.secondary.main,.5)})`,transition:"width 0.1s ease-out",borderRadius:20,zIndex:1})),F=X.forwardRef(function(d,x){return t.jsxDEV(A,{direction:"up",ref:x,...d},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:103,columnNumber:10},this)}),O=({isOpen:e,onClose:d,onVerify:x})=>{const c=P(),l=c.palette.mode==="dark";L(c.breakpoints.down("sm"));const[u,g]=a.useState(!1),[N,M]=a.useState(0),[k,v]=a.useState(0),[D,C]=a.useState(0),[m,z]=a.useState(!1),[p,w]=a.useState(!1),i=a.useRef(null),f=a.useRef(null),j=()=>{D>=100&&(w(!0),setTimeout(()=>{w(!1),z(!0),setTimeout(()=>{x(),d()},500)},1e3))},R=n=>{if(!(m||p)){if(g(!0),i.current){const r=i.current.getBoundingClientRect();M(n.clientX-r.left-k)}f.current&&(f.current.style.cursor="grabbing")}},V=n=>{if(!(m||p)){if(g(!0),i.current){const r=i.current.getBoundingClientRect();M(n.touches[0].clientX-r.left-k)}f.current&&(f.current.style.cursor="grabbing")}},K=n=>{if(!(!u||m||p)&&i.current){const r=i.current.getBoundingClientRect(),s=r.width-36;let o=n.clientX-r.left-N;o<0&&(o=0),o>s&&(o=s);const S=o/s*100;C(S),v(o)}},T=n=>{if(!(!u||m||p)&&(n.preventDefault(),i.current)){const r=i.current.getBoundingClientRect(),s=r.width-36;let o=n.touches[0].clientX-r.left-N;o<0&&(o=0),o>s&&(o=s);const S=o/s*100;C(S),v(o)}},I=()=>{u&&(g(!1),f.current&&(f.current.style.cursor="grab"),D>=95?(C(100),v(i.current?i.current.getBoundingClientRect().width-36:0),j()):(C(0),v(0)))};return a.useEffect(()=>{const n=o=>K(o),r=o=>T(o),s=()=>I();return u?(window.addEventListener("mousemove",n),window.addEventListener("mouseup",s),window.addEventListener("touchmove",r,{passive:!1}),window.addEventListener("touchend",s)):(window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",s),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",s)),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",s),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",s)}},[u,D,m,p]),a.useEffect(()=>{e||setTimeout(()=>{C(0),v(0),z(!1),w(!1),g(!1)},300)},[e]),t.jsxDEV(B,{open:e,TransitionComponent:F,keepMounted:!0,onClose:d,"aria-describedby":"slide-captcha-description",maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:3,background:l?"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)":"linear-gradient(135deg, #f5f5f7 0%, #e8eaf6 100%)",boxShadow:l?"0 8px 32px rgba(0, 0, 0, 0.5)":"0 8px 32px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},children:[t.jsxDEV(h,{sx:{position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #3f51b5, #9c27b0, #3f51b5)",backgroundSize:"200% 100%",animation:"gradient 3s ease infinite","@keyframes gradient":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}}}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:308,columnNumber:7},void 0),t.jsxDEV(U,{component:"div",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxDEV(y,{variant:"h6",sx:{fontWeight:500,color:l?"#fff":"#333"},children:"Təhlükəsizlik Yoxlaması"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:327,columnNumber:9},void 0),t.jsxDEV($,{onClick:d,edge:"end",sx:{color:l?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.5)"},children:t.jsxDEV("i",{className:"bx bx-x",style:{fontSize:"24px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:335,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:330,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:326,columnNumber:7},void 0),t.jsxDEV(W,{children:[t.jsxDEV(h,{sx:{mb:2,textAlign:"center"},children:t.jsxDEV(y,{variant:"body2",sx:{color:l?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.6)"},children:"Robot olmadığınızı təsdiqləmək üçün dairəni sağa sürükləyin"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:341,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:340,columnNumber:9},void 0),t.jsxDEV(h,{sx:{position:"relative",height:70,display:"flex",alignItems:"center",justifyContent:"center",mx:1,mb:2},className:"slide-captcha-container",children:t.jsxDEV(Y,{ref:i,sx:{width:"100%",mx:3},onTouchStart:n=>{n.preventDefault(),V(n)},onTouchMove:n=>{n.preventDefault()},children:[t.jsxDEV(Q,{progress:D},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:371,columnNumber:13},void 0),t.jsxDEV(q,{ref:f,sx:{left:k,backgroundColor:m?c.palette.success.main:p?c.palette.info.main:c.palette.primary.main},onMouseDown:R,onTouchStart:V,children:p?t.jsxDEV(G,{size:22,sx:{color:"#fff"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:386,columnNumber:17},void 0):m?t.jsxDEV("i",{className:"bx bx-check",style:{fontSize:"22px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:388,columnNumber:17},void 0):t.jsxDEV("i",{className:"bx bx-right-arrow-alt",style:{fontSize:"22px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:390,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:372,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:358,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:346,columnNumber:9},void 0),t.jsxDEV(h,{sx:{textAlign:"center",mb:1},children:t.jsxDEV(y,{variant:"caption",sx:{color:l?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.4)"},children:"Powered by Kinosu Security"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:397,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:396,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:339,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/components/Common/SlideCaptcha.tsx",lineNumber:287,columnNumber:5},void 0)},Z=()=>{const[e,d]=a.useState(!1),[x,c]=a.useState(!1),l=a.useCallback(()=>{d(!0)},[]),u=a.useCallback(()=>{d(!1)},[]),g=a.useCallback(()=>{c(!0)},[]),N=a.useCallback(()=>{c(!1)},[]);return{isCaptchaOpen:e,isCaptchaVerified:x,openCaptcha:l,closeCaptcha:u,verifyCaptcha:g,resetCaptcha:N}};export{O as S,Z as u};
