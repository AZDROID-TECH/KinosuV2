import{a as K,a8 as S,f as k,m as $,u as I,r as h,e as D,b as e,c as R,aV as W,aW as C,F as f,B as r,S as l,h as s,T as n,d as N,L as v,aa as w,E as y,y as B,aQ as A}from"./index-BUcdUimO.js";import{C as z,a as Y}from"./CardContent-DxtqGuy-.js";import{I as H,V as L}from"./Visibility-CCdh5a1K.js";import{A as b}from"./ArrowBack-B9LFNnFI.js";const X=()=>{const a=K(),{darkMode:d}=S(),M=k(),{id:u}=$(),{isLoggedIn:g}=I(),[i,c]=h.useState({newsletter:null,loading:!0,error:null});D(a.breakpoints.down("sm")),D(a.breakpoints.down("md")),h.useEffect(()=>{(async()=>{if(u){c(o=>({...o,loading:!0,error:null}));try{const o=await W(u);if(o.success){if(c({newsletter:o.data,loading:!1,error:null}),g)try{await C(u)}catch{}}else c(m=>({...m,loading:!1,error:"Yenilik tapılmadı"}))}catch{c(m=>({...m,loading:!1,error:"Yenilik detallarını əldə edərkən xəta baş verdi"}))}}})()},[u,g]);const E=x=>A(new Date(x),"dd MMMM yyyy, HH:mm"),V=()=>e.jsxDEV(f,{in:i.loading,children:e.jsxDEV(r,{sx:{mt:4,p:3},children:[e.jsxDEV(l,{variant:"rectangular",height:50,width:"70%",sx:{mb:2,borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:107,columnNumber:9},void 0),e.jsxDEV(l,{variant:"rectangular",height:30,width:"40%",sx:{mb:4,borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:108,columnNumber:9},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2,mb:4},children:[e.jsxDEV(l,{variant:"circular",width:40,height:40},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:110,columnNumber:11},void 0),e.jsxDEV(l,{variant:"rectangular",height:20,width:"30%",sx:{borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:109,columnNumber:9},void 0),e.jsxDEV(l,{variant:"rectangular",height:200,sx:{mb:3,borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:113,columnNumber:9},void 0),e.jsxDEV(l,{variant:"rectangular",height:200,sx:{mb:3,borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:114,columnNumber:9},void 0),e.jsxDEV(l,{variant:"rectangular",height:100,sx:{borderRadius:1}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:115,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:106,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:105,columnNumber:5},void 0),j=()=>e.jsxDEV(f,{in:!!i.error,children:e.jsxDEV(z,{elevation:3,sx:{p:{xs:3,md:4},mt:4,textAlign:"center",bgcolor:s(a.palette.error.main,.05),borderRadius:2,border:`1px solid ${s(a.palette.error.main,.2)}`,transition:"all 0.3s ease"},children:[e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(H,{color:"error",sx:{fontSize:40,mb:2}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:135,columnNumber:11},void 0),e.jsxDEV(n,{color:"error",variant:"h5",gutterBottom:!0,fontWeight:"bold",children:i.error},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:136,columnNumber:11},void 0),e.jsxDEV(n,{color:"text.secondary",variant:"body1",sx:{maxWidth:500,mx:"auto",mb:3},children:"İstədiyiniz yenilik tapılmadı və ya əldə edilərkən xəta baş verdi. Zəhmət olmasa daha sonra yenidən cəhd edin."},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:139,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:134,columnNumber:9},void 0),e.jsxDEV(N,{variant:"contained",color:"primary",size:"large",onClick:()=>M("/newsletters"),startIcon:e.jsxDEV(b,{},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:148,columnNumber:22},void 0),sx:{px:3,py:1,borderRadius:2,boxShadow:a.shadows[4],transition:"transform 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:a.shadows[8]}},children:"Yeniliklər səhifəsinə qayıt"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:122,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:121,columnNumber:5},void 0),P=()=>{if(!i.newsletter)return null;const{title:x,content:o,created_at:m,updated_at:T,author:t,is_important:p}=i.newsletter;return e.jsxDEV(f,{in:!i.loading&&!i.error,children:e.jsxDEV(r,{children:[e.jsxDEV(r,{sx:{mb:{xs:3,md:4},transition:"all 0.3s ease",position:"relative",display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(N,{component:v,to:"/newsletters",startIcon:e.jsxDEV(b,{},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:188,columnNumber:26},void 0),variant:"outlined",size:"small",sx:{borderRadius:2,minWidth:"auto",px:1.5,py:.8,fontSize:"0.85rem",fontWeight:600,boxShadow:`0 2px 4px ${s(a.palette.common.black,.05)}`,transition:"all 0.2s ease","&:hover":{transform:"translateX(-3px)"}},children:"Yeniliklər"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:185,columnNumber:13},void 0),e.jsxDEV(n,{variant:"h6",color:"text.secondary",sx:{mx:1,fontSize:{xs:"1rem",sm:"1.1rem"},fontWeight:400,display:"flex",alignItems:"center"},children:[e.jsxDEV("span",{style:{margin:"0 10px",color:s(a.palette.text.secondary,.6)},children:"/"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:219,columnNumber:15},void 0),"Yenilik Detalları"]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:208,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:175,columnNumber:11},void 0),e.jsxDEV(z,{elevation:3,sx:{borderRadius:{xs:2,md:3},overflow:"hidden",transition:"all 0.3s ease",boxShadow:d?`0 8px 20px ${s(a.palette.common.black,.2)}`:`0 8px 20px ${s(a.palette.common.black,.1)}`,border:`1px solid ${s(a.palette.divider,d?.1:.05)}`,position:"relative"},children:[p&&e.jsxDEV(r,{sx:{position:"absolute",top:0,right:0,bgcolor:a.palette.error.main,color:"#fff",px:{xs:2,md:3},py:.8,borderBottomLeftRadius:12,fontWeight:"bold",fontSize:{xs:"0.8rem",md:"0.9rem"},zIndex:10,boxShadow:`0 2px 8px ${s(a.palette.error.main,.5)}`,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Vacib"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:240,columnNumber:15},void 0),e.jsxDEV(r,{sx:{background:d?`linear-gradient(135deg, ${s(a.palette.primary.dark,.15)} 0%, ${s(a.palette.background.paper,.1)} 100%)`:`linear-gradient(135deg, ${s(a.palette.primary.light,.2)} 0%, ${s(a.palette.background.paper,.02)} 100%)`,pt:{xs:3,md:4},pb:{xs:2,md:3},px:{xs:2,sm:3,md:4},borderBottom:`1px solid ${s(a.palette.divider,.08)}`},children:[e.jsxDEV(n,{variant:"h3",component:"h1",sx:{fontWeight:700,fontSize:{xs:"1.6rem",sm:"2rem",md:"2.4rem"},color:p?a.palette.error.main:a.palette.text.primary,mb:2,lineHeight:1.3,textShadow:d?"0 1px 2px rgba(0,0,0,0.2)":"none",position:"relative",display:"inline-block","&::after":p?{content:'""',position:"absolute",left:0,bottom:-8,height:"3px",width:"60px",borderRadius:"3px",backgroundColor:a.palette.error.main}:{content:'""',position:"absolute",left:0,bottom:-8,height:"3px",width:"60px",borderRadius:"3px",backgroundColor:a.palette.primary.main}},children:x},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,flexWrap:"wrap"},children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(w,{src:t==null?void 0:t.avatar_url,alt:t==null?void 0:t.username,sx:{width:32,height:32},children:t!=null&&t.username?t.username.charAt(0).toUpperCase():"S"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:319,columnNumber:19},void 0),e.jsxDEV(n,{variant:"body2",sx:{fontWeight:500},children:t==null?void 0:t.username},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:326,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:318,columnNumber:17},void 0),e.jsxDEV(y,{orientation:"vertical",flexItem:!0},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:330,columnNumber:17},void 0),e.jsxDEV(n,{variant:"body2",sx:{color:"text.secondary"},children:E(m)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:331,columnNumber:17},void 0),e.jsxDEV(y,{orientation:"vertical",flexItem:!0},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:334,columnNumber:17},void 0),e.jsxDEV(B,{title:"Görüntülenme sayısı",children:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(w,{sx:{width:26,height:26,bgcolor:s(a.palette.success.main,.1),color:a.palette.success.main},children:e.jsxDEV(L,{sx:{fontSize:16}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:345,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:337,columnNumber:21},void 0),e.jsxDEV(n,{variant:"body2",sx:{fontWeight:500},children:i.newsletter.view_count||0},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:347,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:336,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:335,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:262,columnNumber:13},void 0),e.jsxDEV(Y,{sx:{p:{xs:2,sm:3,md:4},"&:last-child":{pb:{xs:3,sm:4}}},children:e.jsxDEV(r,{className:"newsletter-content",sx:{px:{xs:0,md:1},color:a.palette.text.primary,fontSize:{xs:"1rem",md:"1.05rem"},lineHeight:1.8,wordBreak:"break-word","& img":{maxWidth:"100%",height:"auto",borderRadius:1,my:2,boxShadow:`0 3px 8px ${s(a.palette.common.black,.1)}`},"& p":{mb:2,lineHeight:1.8},"& h1, & h2, & h3, & h4, & h5, & h6":{mt:{xs:3,md:4},mb:2,fontWeight:700,fontFamily:"'Montserrat', sans-serif",color:a.palette.text.primary,lineHeight:1.3},"& h1":{fontSize:{xs:"1.8rem",md:"2.2rem"}},"& h2":{fontSize:{xs:"1.6rem",md:"1.8rem"}},"& h3":{fontSize:{xs:"1.4rem",md:"1.6rem"}},"& h4":{fontSize:{xs:"1.25rem",md:"1.4rem"}},"& h5":{fontSize:{xs:"1.1rem",md:"1.25rem"}},"& h6":{fontSize:{xs:"1rem",md:"1.1rem"}},"& ul, & ol":{pl:3,mb:3},"& li":{mb:1,pl:1},"& a":{color:a.palette.primary.main,textDecoration:"none",borderBottom:`1px dotted ${s(a.palette.primary.main,.4)}`,transition:"all 0.2s ease","&:hover":{color:a.palette.primary.dark,borderBottom:`1px solid ${a.palette.primary.main}`}},"& blockquote":{borderLeft:`4px solid ${a.palette.primary.main}`,pl:3,py:1,my:3,bgcolor:s(a.palette.primary.main,.05),borderRadius:1,fontStyle:"italic",boxShadow:`inset 0 0 0 1px ${s(a.palette.primary.main,.1)}`},"& code":{bgcolor:s(a.palette.grey[500],.2),px:1,py:.5,borderRadius:1,fontFamily:"monospace",fontSize:"0.9em"},"& pre":{bgcolor:s(a.palette.grey[900],d?.2:.1),color:d?"#e0e0e0":"#333333",p:2,borderRadius:1,overflowX:"auto",fontFamily:"monospace",fontSize:"0.9em",boxShadow:`inset 0 0 0 1px ${s(a.palette.grey[500],.2)}`},"& hr":{my:3,border:"none",height:"1px",bgcolor:a.palette.divider},"& table":{width:"100%",borderCollapse:"collapse",my:3,border:`1px solid ${s(a.palette.divider,.2)}`},"& th, & td":{border:`1px solid ${s(a.palette.divider,.2)}`,p:1.5,textAlign:"left"},"& th":{bgcolor:s(a.palette.grey[500],.1),fontWeight:"bold"}},dangerouslySetInnerHTML:{__html:o}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:364,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:358,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:226,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",mt:{xs:3,md:4},mb:{xs:4,md:6}},children:e.jsxDEV(N,{component:v,to:"/newsletters",startIcon:e.jsxDEV(b,{},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:481,columnNumber:26},void 0),variant:"contained",color:"primary",sx:{borderRadius:8,px:3,py:1.2,boxShadow:a.shadows[3],transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:a.shadows[6]}},children:"Yeniliklərə qayıt"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:478,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:470,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:174,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:173,columnNumber:7},void 0)};return e.jsxDEV(R,{maxWidth:"lg",sx:{py:{xs:3,md:6},px:{xs:2,sm:3,md:4}},children:i.loading?V():i.error?j():P()},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/NewsletterDetailPage.tsx",lineNumber:505,columnNumber:5},void 0)};export{X as default};
