import{as as N,at as g,b as n,j as e,f as v,P as w,B as i,c as D,g as P,ar as z}from"./index-CRA6_osR.js";import{s as t,a as R}from"./toastHelper-Dhu-gvGD.js";import{T as x}from"./TextField-C5oxrvYs.js";import{I as d}from"./InputAdornment-D1Ygh0j2.js";const K=()=>{const b=N(),{token:l}=g(),[s,m]=n.useState({newPassword:"",confirmPassword:""}),[o,p]=n.useState(!1),[u,c]=n.useState(!1),h=async a=>{if(a.preventDefault(),!l){t("Etibarsız şifrə yeniləmə linki");return}if(s.newPassword!==s.confirmPassword){t("Şifrələr uyğun gəlmir");return}try{c(!0);const r=(await z.resetPassword(l,s.newPassword)).message||"Şifrəniz uğurla yeniləndi";R(r),setTimeout(()=>{b("/login")},1500)}catch(f){const r=f.message||"Şifrə yeniləmə zamanı xəta baş verdi";t(r)}finally{c(!1)}};return e.jsxDEV(v,{component:"main",maxWidth:"xs",sx:{py:{xs:2,sm:4}},children:e.jsxDEV(w,{elevation:3,sx:{p:{xs:2,sm:3},display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:2,position:"relative",overflow:"hidden"},children:[e.jsxDEV(i,{sx:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #2196f3 0%, #64b5f6 100%)"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:72,columnNumber:9},void 0),e.jsxDEV(i,{sx:{display:"flex",alignItems:"center",gap:1,mb:3},children:[e.jsxDEV(i,{sx:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.jsxDEV("i",{className:"bx bx-lock-open-alt",style:{fontSize:"24px",color:"white"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:96,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:84,columnNumber:11},void 0),e.jsxDEV(D,{component:"h1",variant:"h6",sx:{fontWeight:"bold",letterSpacing:"0.5px"},children:"Şifrəni Yenilə"},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:98,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:83,columnNumber:9},void 0),e.jsxDEV(i,{component:"form",onSubmit:h,sx:{width:"100%"},children:[e.jsxDEV(x,{required:!0,fullWidth:!0,size:"small",name:"newPassword",label:"Yeni şifrə",type:o?"text":"password",value:s.newPassword,onChange:a=>m({...s,newPassword:a.target.value}),InputProps:{startAdornment:e.jsxDEV(d,{position:"start",children:e.jsxDEV("i",{className:"bx bx-lock-alt",style:{fontSize:"18px",color:"action.active"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:127,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:126,columnNumber:17},void 0),endAdornment:e.jsxDEV(d,{position:"end",children:e.jsxDEV("button",{type:"button",onClick:()=>p(!o),className:"password-toggle",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"inherit"},children:e.jsxDEV("i",{className:`bx ${o?"bx-show":"bx-hide"}`,style:{fontSize:"18px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:144,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:132,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:131,columnNumber:17},void 0)},sx:{mb:1.5}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV(x,{required:!0,fullWidth:!0,size:"small",name:"confirmPassword",label:"Şifrəni təkrarla",type:o?"text":"password",value:s.confirmPassword,onChange:a=>m({...s,confirmPassword:a.target.value}),InputProps:{startAdornment:e.jsxDEV(d,{position:"start",children:e.jsxDEV("i",{className:"bx bx-lock-alt",style:{fontSize:"18px",color:"action.active"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:163,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:162,columnNumber:17},void 0)},sx:{mb:2}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:151,columnNumber:11},void 0),e.jsxDEV(P,{type:"submit",fullWidth:!0,variant:"contained",size:"small",disabled:u,sx:{py:1,borderRadius:1.5,fontWeight:"bold",textTransform:"none",fontSize:"0.9rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.2s","&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},children:u?e.jsxDEV(e.Fragment,{children:"Yüklənir..."},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:191,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("i",{className:"bx bx-check",style:{fontSize:"18px",marginRight:"6px"}},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:194,columnNumber:17},void 0),"Şifrəni Yenilə"]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:193,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:59,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/azdroid/Masaüstü/Dev/Kinosu/src/pages/ResetPassword.tsx",lineNumber:58,columnNumber:5},void 0)};export{K as default};
